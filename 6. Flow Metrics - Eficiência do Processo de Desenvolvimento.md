# Resumo da Aula: Flow Metrics

## Introdução
A aula aborda as *Flow Metrics* (métricas de fluxo), que ajudam a entender e otimizar o processo de desenvolvimento de software, com foco no fluxo de trabalho desde a concepção de uma ideia até a entrega ao usuário. O professor explica como essas métricas revelam gargalos, medem a eficiência do time e aumentam a previsibilidade das entregas, sendo essenciais para desenvolvedores, líderes técnicos e gerentes. Um caso prático do Spotify ilustra a aplicação dessas métricas, além de ferramentas e boas práticas para implementá-las.

## Conceitos Fundamentais de Flow Metrics
O professor define *Flow Metrics* como métricas que medem o fluxo de trabalho no desenvolvimento de software, desde a ideia até a entrega em produção. Elas ajudam a identificar gargalos e melhorar a eficiência. As principais métricas são:
- **Lead Time**: Tempo total desde o *request* (ex.: *user story*) até a entrega em produção (ex.: 3 semanas para uma *feature*).
- **Cycle Time**: Tempo de desenvolvimento ativo, do início do trabalho até a entrega, excluindo esperas em *backlog* (ex.: 5 dias dentro de um *lead time* de 3 semanas).
- **Work in Progress (WIP)**: Quantidade de itens trabalhados simultaneamente. Muitos itens podem aumentar *context switching*, reduzindo a eficiência.
- **Throughput**: Número de itens completados em um período (ex.: 12 *features* por *sprint* ou 24 *bugs* corrigidos por semana).

## Princípios do Fluxo
O conceito de *flow* é comparado a uma linha de produção (ex.: Ford ou Toyota), onde o objetivo é reduzir desperdícios e otimizar entregas:
- No desenvolvimento de software, o fluxo vai da *user story* ao *deploy* em produção.
- Reduzir *context switching* (mudanças frequentes de tarefa) é crucial, pois muitos itens em progresso (WIP alto) geram atrasos e retrabalho.
- A eficiência do fluxo depende de equilibrar a carga de trabalho (*load*) com a velocidade de entrega, evitando sobrecarga.

## Caso de Estudo: Spotify
O time de engenharia do Spotify identificou que *features* demoravam a chegar aos usuários, apesar de um desenvolvimento rápido. A análise revelou:
- **Lead Time**: 6 semanas (muito alto).
- **Cycle Time**: 8 dias (razoável).
- **Work in Progress**: 15 *features* simultâneas (excessivo, causando *context switching*).
- **Throughput**: Apenas 2 *features* por *sprint* (baixo).
A solução foi limitar o WIP a 6 *features*, usando Kanban para priorizar a conclusão antes de iniciar novas tarefas. Resultados:
- **Lead Time**: Reduzido de 6 semanas para 2,5 semanas.
- **Cycle Time**: Reduzido de 8 para 6 dias.
- **Throughput**: Aumentado de 2 para 4 *features* por *sprint*.
Isso reduziu retrabalho e aumentou a capacidade de entrega.

## Ferramentas e Implementação
Para gerenciar *Flow Metrics*, é essencial definir o fluxo de trabalho (ex.: *backlog* → *to do* → *in progress* → *code review* → *test* → *deploy*). Ferramentas comuns incluem:
- **Gestão de Tarefas**: Jira, Azure DevOps, GitHub Projects, Linear.
- **Coleta de Dados e Análise**: Jira (automação), GitHub Actions (*time tracking*), Zapier, Integrately, Pluralsight Flow, Waydev.
O professor destaca que a ferramenta é secundária; o mais importante é definir claramente o fluxo e coletar dados para análise.

## Eficiência e Análise Avançada
- **Eficiência do Fluxo**: Calculada como a proporção do tempo de valor agregado (*cycle time*) em relação ao *lead time* (ex.: eficiência de 30% se o *cycle time* é 5 dias em um *lead time* de 3 semanas).
- **Balanceamento**: Equilibrar *load* (carga de trabalho) e velocidade para evitar sobrecarga e maximizar *throughput*.
- **Técnicas Avançadas**:
  - **Monte Carlo**: Simulações para prever entregas com base em probabilidades.
  - **Little’s Law**: Relaciona *lead time*, WIP e *throughput* para estimar capacidade do time.
  - **Theory of Constraints**: Identifica e gerencia gargalos no fluxo.

## Boas Práticas
- **Definir o Fluxo**: Mapear o processo do time (*backlog* a *deploy*) para identificar gargalos.
- **Limitar WIP**: Reduzir itens simultâneos para evitar *context switching* e retrabalho.
- **Analisar Conjunto de Métricas**: Otimizar uma métrica isolada (ex.: alto WIP) pode prejudicar o fluxo geral. Analise *lead time*, *cycle time*, WIP e *throughput* juntos.
- **Previsibilidade**: Usar *throughput* para estimar a capacidade de entrega do time.
- **Visualização**: Ferramentas como Kanban ajudam a manter o fluxo visível e controlado.

## Conclusão
A aula destacou a importância das *Flow Metrics* (*lead time*, *cycle time*, *work in progress* e *throughput*) para otimizar o fluxo de trabalho no desenvolvimento de software. Essas métricas revelam gargalos, aumentam a eficiência e melhoram a previsibilidade das entregas. O caso do Spotify demonstrou como limitar o WIP e priorizar conclusões reduziu *lead time* e dobrou o *throughput*. Ferramentas como Jira e GitHub Actions, combinadas com técnicas como *Little’s Law* e *Monte Carlo*, ajudam a implementar e analisar essas métricas. O professor sugere mapear o fluxo atual do time, calcular *lead time* e WIP, e aplicar *Flow Metrics* para identificar melhorias, reforçando a relevância dessas métricas para desenvolvedores e líderes técnicos.